
status = -1;
var itemList = Array(
			
			Array(2290000,800,1,1),
			Array(2290001,500,1,1),
			Array(2290002,800,1,1),
			Array(2290003,500,1,1),
			Array(2290004,800,1,1),
			Array(2290005,500,1,1),
			Array(2290006,800,1,1),
			Array(2290007,500,1,1),
			Array(2290008,800,1,1),
			Array(2290009,500,1,1),
			Array(2290010,800,1,1),
			Array(2290012,800,1,1),
			Array(2290014,800,1,1),
			Array(2290015,500,1,1),
			Array(2290016,800,1,1),
			Array(2290017,800,1,1),
			Array(2290018,800,1,1),
			Array(2290019,800,1,1),
			Array(2290020,800,1,1),
			Array(2290021,500,1,1),
			Array(2290022,800,1,1),
			Array(2290024,800,1,1),
			Array(2290025,500,1,1),
			Array(2290026,800,1,1),
			Array(2290027,500,1,1),
			Array(2290028,800,1,1),
			Array(2290029,500,1,1),
			Array(2290030,800,1,1),
			Array(2290032,800,1,1),
			Array(2290034,800,1,1),
			Array(2290035,800,1,1),
			Array(2290036,800,1,1),
			Array(2290037,500,1,1),
			Array(2290038,800,1,1),
			Array(2290039,500,1,1),
			Array(2290040,800,1,1),
			Array(2290041,500,1,1),
			Array(2290042,800,1,1),
			Array(2290043,500,1,1),
			Array(2290044,800,1,1),
			Array(2290045,800,1,1),
			Array(2290046,500,1,1),
			Array(2290047,500,1,1),
			Array(2290013,800,1,1),//30连环
			Array(2290023,200,1,1),//恶龙30
			Array(2290011,200,1,1),//轻舞30
			Array(2290031,500,1,1),//30爆破
			Array(2290033,500,1,1),//30闪电
			Array(2290048,500,1,1),//圣光普照20
			Array(2290049,200,1,1),//圣光普照30
			Array(2290053,500,1,1),//火眼30
			Array(2290061,500,1,1),//暴风箭雨30
			Array(2290091,500,1,1),//一出双击30
			Array(2290085,500,1,1),//3连环广击破30
			Array(2290093,500,1,1),//暗杀30
			Array(2290101,500,1,1),//变身20
			Array(2290120,500,1,1),//急速射30
			Array(2290050,800,1,1),
			Array(2290051,500,1,1),
			Array(2290052,800,1,1),
			Array(2290054,800,1,1),
			Array(2290055,800,1,1),
			Array(2290056,800,1,1),
			Array(2290057,500,1,1),
			Array(2290058,800,1,1),
			Array(2290059,800,1,1),
			Array(2290060,800,1,1),
			Array(2290062,800,1,1),
			Array(2290063,500,1,1),
			Array(2290064,800,1,1),
			Array(2290065,500,1,1),
			Array(2290066,800,1,1),
			Array(2290067,500,1,1),
			Array(2290068,800,1,1),
			Array(2290069,800,1,1),
			Array(2290070,800,1,1),
			Array(2290071,800,1,1),
			Array(2290072,800,1,1),
			Array(2290073,800,1,1),
			Array(2290074,800,1,1),
			Array(2290075,500,1,1),
			Array(2290076,800,1,1),
			Array(2290077,500,1,1),
			Array(2290078,800,1,1),
			Array(2290079,500,1,1),
			Array(2290080,800,1,1),
			Array(2290081,800,1,1),
			Array(2290082,800,1,1),
			Array(2290083,800,1,1),
			Array(2290084,800,1,1),
			Array(2290086,800,1,1),
			Array(2290087,800,1,1),
			Array(2290088,800,1,1),
			Array(2290089,500,1,1),
			Array(2290090,800,1,1),
			Array(2290092,800,1,1),
			Array(2290094,800,1,1),
			Array(2290095,800,1,1),
			Array(2290096,500,1,1),//勇士20
			Array(2290097,800,1,1),
			Array(2290098,500,1,1),
			Array(2290099,500,1,1),
			Array(2290100,500,1,1),
			Array(2290102,500,1,1),
			Array(2290103,500,1,1),
			Array(2290104,500,1,1),
			Array(2290105,500,1,1),
			Array(2290106,500,1,1),
			Array(2290107,500,1,1),
			Array(2290108,500,1,1),
			Array(2290110,500,1,1),
			Array(2290111,500,1,1),
			Array(2290112,500,1,1),
			Array(2290113,500,1,1),
			Array(2290114,500,1,1),
			Array(2290115,500,1,1),
			Array(2290116,500,1,1),
			Array(2290117,500,1,1),
			Array(2290118,500,1,1),
			Array(2290119,500,1,1),
			Array(2290121,500,1,1),
			Array(2290122,500,1,1),
			Array(2290123,500,1,1),
			Array(2290124,500,1,1),
			//Array(2290126,800,1,1),
			//Array(2290127,800,1,1),
			//Array(2290128,800,1,1),
			//Array(2290129,800,1,1),
			//Array(2290130,800,1,1),
			//Array(2290131,800,1,1),
			//Array(2290132,800,1,1),
			//Array(2290133,800,1,1),
			//Array(2290134,800,1,1),
			//Array(2290135,800,1,1),
			//Array(2290125,800,1,1),//勇士30
			//Array(2290125,800,1,1),//勇士30
			Array(2290125,200,1,1)//勇士30
			/*Array(2290126,500,1,1),
			Array(2290127,500,1,1),
			Array(2290128,500,1,1),
			Array(2290129,500,1,1),
			Array(2290130,500,1,1),
			Array(2290131,500,1,1),
			Array(2290132,500,1,1),
			Array(2290133,500,1,1),
			Array(2290134,500,1,1),
			Array(2290135,500,1,1),
			//Array(2290136,800,1,1),
			//Array(2290137,800,1,1),
			Array(2290138,500,1,1),
			Array(2290139,500,1,1) */ 

);

function start() {
    action(1, 0, 0);
}

function action(mode, type, selection) {
    if (mode == 1) {
        status++;
    } else {
        if (status == 0) {
            cm.sendOk("再见。加把油。");
            cm.dispose();
        }
        status--;
    }
		if (status == 0) {
			if(cm.haveItem(4001126,500)){

var str1 = "\r\n";	
           for (var i = 0; i < itemList.length; i++){
                   str1 += "#v"+itemList[i][0]+"#";
            }
				cm.sendYesNo("消耗#b500#k枫叶抽取以下物品!\r\n#k当前拥有:#c4001126# 个。 以下是全部物品:" + str1);
			} else {
var str1 = "\r\n";	
           for (var i = 0; i < itemList.length; i++){
                   str1 += "#v"+itemList[i][0]+"#";
            }
				cm.sendOk("消耗#b500#k枫叶抽取以下物品!\r\n#k当前拥有:#c4001126# 个。 以下是全部物品:" + str1);
				cm.dispose();
			}
		} else if (status == 1){	
        var chance = Math.floor(Math.random() * 500);
        var finalitem = Array();
        for (var i = 0; i < itemList.length; i++) {
            if (itemList[i][1] >= chance) {
                finalitem.push(itemList[i]);
            }
        }
        if (finalitem.length != 0) {
            var item;
            var random = new java.util.Random();
            var finalchance = random.nextInt(finalitem.length);
            var itemId = finalitem[finalchance][0];
            var quantity = finalitem[finalchance][2];
            var notice = finalitem[finalchance][3];
            item = cm.gainGachaponItem(itemId, quantity, "史莱克抽奖中心", notice);
            if (item != -1) {
				cm.gainItem(4001126, -500);
				//cm.gainItem(gainItem(4001126, -2);, -2);//获得物品
                cm.sendOk("你获得了 #b#t" + item + "##k " + quantity + "个。");
            } else {
                cm.sendOk("请你确认在背包的装备，消耗，其他窗口中是否有一格以上的空间。");
            }
            cm.safeDispose();
        } else {
            cm.sendOk("好倒霉啊，毛都没抽到。");
			cm.喇叭(2,"玩家：["+cm.getName()+"]在抽技能书时 毛都没抽到。");
			cm.gainItem(4001126, -2);//获得物品
            cm.safeDispose();
			//cm.gainNX(1000);	//加减点券
            //cm.setmoneyb(-5);
        }
    }
}















